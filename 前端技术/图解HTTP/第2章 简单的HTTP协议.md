## 第2章 简单的HTTP协议

### 2.2 通过请求和响应的交换达成通信

HTTP协议规定，请求从客户端发出，最后服务端响应该请求并返回。

HTTP请求报文包含：
- 方法（Method）
- URI
- 协议版本（HTTP/1.1、HTTPS等）
- Header字段
- 内容实体（Body）

响应报文包含：
- 协议版本
- 状态码（Status）
- 状态码的原因短语
- Header字段
- 主体



### 2.3 HTTP是不保存状态的协议

HTTP是一种无状态协议，对于发送过的请求或响应都不做持久化处理（需要额外采用Cookie、Session、LocalStorage、ServiceWorker等技术进行状态记录）。



### 2.5 告知服务器意图的HTTP方法

- GET：获取资源。请求访问已被URI识别的资源。
- POST：传输实体主体。POST主要用于提交内容，如表单，并不是获取响应的主体内容。
- PUT：传输文件。PUT方法用来传输文件，类似于FTP协议的文件上传，保存到请求URI指定的位置。
- DELETE：删除文件。与PUT相反的方法。
- HEAD：获得报文首部。用于确定URI的有效性及资源更新的日期时间等（比如缓存管理）。
- OPTIONS：询问支持的方法。查询针对请求URI指定的资源支持的方法（在CORS跨域中广泛运用）。
- TRACE：追踪路径。让Web服务器将之前的请求通信环回给客户端。在Max-Forwards的header内填入数值，没经过一个服务器就将该数字减1，当数值刚好减到0时就停止继续传输，最后收到请求的服务端则返回200响应。
- CONNECT：请求用隧道协议连接代理。用隧道协议实现与代理服务器的TCP通信，主要使用SSL（Secure Sockets Layer，安全套接层）和TLS（Transport Layer Security， 传输层安全）协议把通信内容加密后经网络隧道传输。



### 2.7 持久连接节省通信量

只要任意一端没有明确提出断开连接，则保持TCP连接状态。

持久连接使得并行发送请求的管线化（Pipelining）方式成为可能。



### 2.8 使用Cookie的状态管理

Cookie技术通过在请求和响应报文中写入信息来控制客户端的状态。

根据从服务端发送的响应报文内Set-Cookie的Header来通知客户端保存Cookie，当下次客户端发送请求时，客户端会自动在请求报文中加入Cookie值后发出去。服务端通过检查Cookie内容，对比记录，得到状态信息。